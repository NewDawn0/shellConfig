{ pkgs }:
let
  logos = {
    # Colors
    # $1 => green
    # $2 => yellow
    # $3 => red
    # $4 => purple
    # $5 => blue
    # $6 => white
    ibm-arch = ''
          $5                   ▄
                            ▟█▙
                           ▟███▙
                          ▟█████▙
                         ▟███████▙
                        ▂▔▀▜██████▙
                       ▟██▅▂▝▜█████▙
                      ▟█████████████▙
                     ▟███████████████▙
                    ▟█████████████████▙
                   ▟███████████████████▙
                  ▟█████████▛▀▀▜████████▙
                 ▟████████▛      ▜███████▙
                ▟█████████        ████████▙
               ▟██████████        █████▆▅▄▃▂
              ▟██████████▛        ▜█████████▙
             ▟██████▀▀▀              ▀▀██████▙
            ▟███▀▘                       ▝▀███▙
           ▟▛▀                               ▀▜▙
                  $3 🬭🬭 $6
      ██████ ██   $3🬉██🬄$6      ██    ███🬺🬱          ██
        ██   ██🬞▄🬏 ▄▄ ▄▄🬞▄🬏 ██ ▄▄ ██ ██ 🬞▄▄▄🬏 🬞▄🬏██
        ██   ██🬆██ ██ ██🬆██ ██🬞█🬕 ██ ██ ██🬂██ ██🬊██
        ██   ██ ██ ██ ██ ██ ██▐█🬀 ██🬭██ ▀▀🬞██ ██ ██
        ██   ██ ██ ██ ██ ██ ███🬴  ██🬎🬆🬀 🬵🬻🬝██ ██ ██
        ██   ██ ██ ██ ██ ██ ██▐█🬏 ██    ██ ██ ██ ██
        ██   ██ ██ ██ ██ ██ ██🬁█🬲 ██    ██🬵██ ██🬵██
        ▀▀   ▀▀ ▀▀ ▀▀ ▀▀ ▀▀ ▀▀ ▀▀ ▀▀    🬁▀🬀▀▀ 🬁▀🬀▀▀
    '';
    ibm-large = ''
      $3▀▀▀▀▀▀▀▀▀▀ $1▀▀▀▀▀▀▀▀▀▀▀▘  $5▀▀▀▀▀▀▀▀    ▀▀▀▀▀▀▀▀
      $3▀▀▀▀▀▀▀▀▀▀ $1▀▀▀▀▀▀▀▀▀▀▀▀▘ $5▀▀▀▀▀▀▀▀    ▀▀▀▀▀▀▀▀
      $3   ▀▀▀▀   $1   ▀▀▀▀   ▀▀▀▀ $5   ▀▀▀▀▀▘  ▝▀▀▀▀▀
      $3   ▀▀▀▀   $1   ▀▀▀▀   ▀▀▀▀ $5   ▀▀▀▀▀▘  ▝▀▀▀▀▀
      $3   ▀▀▀▀   $1   ▀▀▀▀   ▀▀▀▀ $5   ▀▀▀▀▀▀  ▀▀▀▀▀▀
      $3   ▀▀▀▀   $1   ▀▀▀▀▀▀▀▀▀▀  $5   ▀▀▀▀▝▀  ▀▘▀▀▀▀
      $3   ▀▀▀▀   $1   ▀▀▀▀▀▀▀▀▀▀  $5   ▀▀▀▀▝▀▘▝▀▘▀▀▀▀
      $3   ▀▀▀▀   $1   ▀▀▀▀▀▀▀▀▀▀  $5   ▀▀▀▀ ▀▀▀▀ ▀▀▀▀
      $3   ▀▀▀▀   $1   ▀▀▀▀   ▀▀▀▀ $5   ▀▀▀▀ ▀▀▀▀ ▀▀▀▀
      $3   ▀▀▀▀   $1   ▀▀▀▀   ▀▀▀▀ $5   ▀▀▀▀ ▝▀▀▘ ▀▀▀▀
      $3   ▀▀▀▀   $1   ▀▀▀▀   ▀▀▀▀ $5   ▀▀▀▀ ▝▀▀▘ ▀▀▀▀
      $3▀▀▀▀▀▀▀▀▀▀ $1▀▀▀▀▀▀▀▀▀▀▀▀▘ $5▀▀▀▀▀▀▀  ▀▀  ▀▀▀▀▀▀▀
      $3▀▀▀▀▀▀▀▀▀▀ $1▀▀▀▀▀▀▀▀▀▀▀▘  $5▀▀▀▀▀▀▀  ▝▘  ▀▀▀▀▀▀▀
                  $3 🬭🬭 $6
      ██████ ██   $3🬉██🬄$6      ██    ███🬺🬱          ██
        ██   ██🬞▄🬏 ▄▄ ▄▄🬞▄🬏 ██ ▄▄ ██ ██ 🬞▄▄▄🬏 🬞▄🬏██
        ██   ██🬆██ ██ ██🬆██ ██🬞█🬕 ██ ██ ██🬂██ ██🬊██
        ██   ██ ██ ██ ██ ██ ██▐█🬀 ██🬭██ ▀▀🬞██ ██ ██
        ██   ██ ██ ██ ██ ██ ███▌  ██🬎🬆🬀 🬵🬻🬝██ ██ ██
        ██   ██ ██ ██ ██ ██ ███▌  ██    ██ ██ ██ ██
        ██   ██ ██ ██ ██ ██ ██▐█🬏 ██    ██ ██ ██ ██
        ██   ██ ██ ██ ██ ██ ██🬁█🬲 ██    ██🬵██ ██🬵██
        ▀▀   ▀▀ ▀▀ ▀▀ ▀▀ ▀▀ ▀▀ ▀▀ ▀▀    🬁▀🬀▀▀ 🬁▀🬀▀▀
    '';
    ibm = ''
      $3▀▀▀▀▀▀▀ $1▀▀▀▀▀▀▀▀▀▘  $5▀▀▀▀▀▀    ▀▀▀▀▀▀
      $3▀▀▀▀▀▀▀ $1▀▀▀▀▀▀▀▀▀▀▀ $5▀▀▀▀▀▀▘  ▝▀▀▀▀▀▀
      $3  ▀▀▀   $1  ▀▀▀   ▀▀▀ $5  ▀▀▀▀▀  ▀▀▀▀▀
      $3  ▀▀▀   $1  ▀▀▀▀▀▀▀▀  $5  ▀▀▀▝▀▘▝▀▘▀▀▀
      $3  ▀▀▀   $1  ▀▀▀▀▀▀▀▀  $5  ▀▀▀ ▀▀▀▀ ▀▀▀
      $3  ▀▀▀   $1  ▀▀▀   ▀▀▀ $5  ▀▀▀ ▝▀▀▘ ▀▀▀
      $3▀▀▀▀▀▀▀ $1▀▀▀▀▀▀▀▀▀▀▀ $5▀▀▀▀▀  ▀▀  ▀▀▀▀▀
      $3▀▀▀▀▀▀▀ $1▀▀▀▀▀▀▀▀▀▘  $5▀▀▀▀▀  ▝▘  ▀▀▀▀▀
      $6            ▄▄▄ ▄   ▄     ▄   ▄▄       ▄
      $6             █  █▄  ▄  ▄  █ ▄ █ █ ▄   ▄█
      $6             █  █ █ █ █ █ █▄▀ █▀  ▄█ █ █
      $6             █  █ █ █ █ █ █ █ █  ▀▄█ ▀▄█
    '';
    megamind = ''
      $5,-----------------------------.
      | ---      NO SERVER?    ---  |
      ,-----------------------------^
      $5⠸⡸⠜⠕⠕⠁⢁⢇⢏⢽⢺⣪⡳⡝⣎⣏⢯⢞⡿⣟⣷⣳⢯⡷⣽⢽⢯⣳⣫⠇
      ⠀⠀⢀⢀⢄⢬⢪⡪⡎⣆⡈⠚⠜⠕⠇⠗⠝⢕⢯⢫⣞⣯⣿⣻⡽⣏⢗⣗⠏⠀
      ⠀⠪⡪⡪⣪⢪⢺⢸⢢⢓⢆⢤⢀⠀⠀⠀⠀⠈⢊⢞⡾⣿⡯⣏⢮⠷⠁⠀⠀
      ⠀⠀⠀⠈⠊⠆⡃⠕⢕⢇⢇⢇⢇⢇⢏⢎⢎⢆⢄⠀⢑⣽⣿⢝⠲⠉⠀⠀⠀⠀
      ⠀⠀⠀⠀⠀⡿⠂⠠⠀⡇⢇⠕⢈⣀⠀⠁⠡⠣⡣⡫⣂⣿⠯⢪⠰⠂⠀⠀⠀⠀
      ⠀⠀⠀⠀⡦⡙⡂⢀⢤⢣⠣⡈⣾⡃⠠⠄⠀⡄⢱⣌⣶⢏⢊⠂⠀⠀⠀⠀⠀⠀
      ⠀⠀⠀⠀⢝⡲⣜⡮⡏⢎⢌⢂⠙⠢⠐⢀⢘⢵⣽⣿⡿⠁⠁⠀⠀⠀⠀⠀⠀⠀
      ⠀⠀⠀⠀⠨⣺⡺⡕⡕⡱⡑⡆⡕⡅⡕⡜⡼⢽⡻⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
      ⠀⠀⠀⠀⣼⣳⣫⣾⣵⣗⡵⡱⡡⢣⢑⢕⢜⢕⡝⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
      ⠀⠀⠀⣴⣿⣾⣿⣿⣿⡿⡽⡑⢌⠪⡢⡣⣣⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
      ⠀⠀⠀⡟⡾⣿⢿⢿⢵⣽⣾⣼⣘⢸⢸⣞⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
      ⠀⠀⠀⠀⠁⠇⠡⠩⡫⢿⣝⡻⡮⣒⢽⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
    '';
  };
  # Set theme to null if you want the default theme
  theme = logos.ibm-large;
  ffFinal = let
    ffCfg = pkgs.writeText "logo.txt" (if theme == null then "" else theme);
    text = if theme == null then
      ''${pkgs.fastfetch}/bin/fastfetch "$@"''
    else
      ''${pkgs.fastfetch}/bin/fastfetch -l ${ffCfg} "$@"'';
  in pkgs.writeShellScriptBin "fastfetch" text;
in ffFinal
